# Подсистема маршрутизации UI

Path: `./ctx/composition/client/ui/routing/AGENTS.md`

## Назначение

Каталог `routing/` формализует знания о Router: архитектуре навигации, механике разбора URL и интерфейсах, которые должны сохраняться при разработке экранов.

## Карта уровня

- `AGENTS.md` — данные об инструкциях по использованию Routing.
- `overview.md` — обзор подсистемы, её цели, границы и ограничения.
- `router.md` — декларация принципов работы, архитектурной модели и интерфейса Router.
- `routes.md` — таблица маршрутов, шаблонов, контроллеров и правил их добавления.

## Правила работы агента

1. Router остаётся изолированной подсистемой: он не изменяет Flow, StateMachine или бизнес-логику звонка.
2. Flow и другие состояния поднимают события, но никогда не манипулируют DOM; единственным исполнителем навигации является Router.
3. Router реализует интерфейс из `router.md` и не содержит звонковых сценариев, WebRTC/Signal/Media-логики или прямых действий Flow.
4. Все маршруты и их связи с шаблонами/контроллерами фиксируются в `routes.md`; добавление нового экрана требует синхронизации этого файла, `HomeCall_Web_Ui_Router` и документации уровня `composition`.
5. Hash-маршруты именуются по шаблону `#/screen-name` или `#/screen-name/param` (например, `#/call/SESSION_ID`), параметры описаны в `routes.md`, а неизвестные хеши переводятся на `not-found`.
