# Когнитивный слой проекта Связист (`./ctx/`)

Path: `./ctx/AGENTS.md`

## Назначение

Каталог `ctx/` представляет когнитивный слой Проекта — декларативную систему знаний, определяющую смысл, ограничения, архитектурную форму, прикладную структуру, инженерные нормы и характеристики среды выполнения.
Документ уточняет структуру этого слоя в рамках инвариантов, определённых корневым `AGENTS.md`, и служит локальной точкой входа для работы агента на уровне контекста.

---

## Карта уровня

Карта уровня оформлена в соответствии с инвариантом «Карты уровня», определённым в корневом `AGENTS.md`, и задаёт состав документации когнитивного пространства `ctx/`.

- `agent/` — организационный уровень: модели поведения агентов, локальные инструкции и отчётность.
- `architecture/` — системная архитектура: компоненты, состояния, форматы сообщений, распределение ответственности.
- `code/` — инженерные нормы: DI-конвенции, структура модулей, правила тестирования и логирования.
- `constraints/` — обязательные инженерные ограничения, обеспечивающие выполнение product-инвариантов.
- `composition/` — прикладная структура реализации: экраны, layout’ы, структура модулей приложения.
- `environment/` — декларации эксплуатационной среды: параметры выполнения, конфигурация сервисов, интеграция с окружением сервера, ротация логов, переменные окружения.
- `product/` — смысловое ядро продукта: назначение, сущности, инварианты сеанса, ссылки, терминология.
- `AGENTS.md` — текущий документ; локальная декларация уровня `ctx/`.

---

## Структура и связи

Когнитивный слой `ctx/` образует каскад взаимосвязанных декларативных пространств.
Каждое пространство фиксирует собственный тип знаний и наследует контекст вышестоящих уровней, не перекрывая их границ.

### `product/`

определяет смысловую модель продукта.
**Граница уровня:** только предметные сущности и инварианты, без инженерных, архитектурных и UX-механизмов.

### `constraints/`

уточняет обязательные инженерные ограничения, необходимые для соблюдения product-инвариантов.
**Граница уровня:** только обязательные свойства реализации, без описания компонентной структуры и без указания среды выполнения.

### `architecture/`

переводит ограничения в системную организацию: компоненты, состояния, форматы сообщений, архитектурные контуры и распределение ответственности.
**Граница уровня:** архитектурная форма без прикладных экранов, без структуры исходников и без эксплуатационных деталей.

### `composition/`

Уровень композиции формирует прикладную структуру будущей реализации: экраны, layout’ы, директории и состав модулей.
**Граница уровня:** прикладные элементы без инженерных норм исходников и без характеристик среды исполнения.

### `code/`

фиксирует инженерные нормы исходников, включая DI-конвенции, структурацию модулей, правила тестирования и логирования.
**Граница уровня:** нормы написания и организации кода без смысловых аспектов продукта, без архитектурной формы и без эксплуатационных параметров.

### `environment/`

описывает эксплуатационную среду: параметры выполнения, конфигурацию серверных сервисов, reverse-proxy, systemd-юниты, схемы логирования и переменные окружения.
**Граница уровня:** только декларации фактического окружения, без прикладной логики, без структуры исходников и без архитектурных определений.

### `agent/`

определяет операционную организацию ADSM на уровне `ctx/`: локальные инструкции, требования к отчётам и правила взаимодействия агента с документацией уровня.

В совокупности эти каталоги задают локальную декларативную карту уровня `ctx/` и обеспечивают согласованность между смысловой моделью, инженерными ограничениями, архитектурной формой, прикладным дизайном, нормами исходников и характеристиками среды исполнения.

---

## Ключевые документы

- `agent/AGENTS.md` — локальная модель взаимодействия агента в пределах уровня `ctx/`.
- `product/overview.md` — базовая смысловая модель, от которой наследуют нижележащие уровни.

---

## Декларация согласованности

Когнитивный слой `ctx/` обеспечивает:

- согласованное наследование смыслов от продуктового уровня к уровням реализации;
- воспроизводимость проектных решений на основе инвариантов, определённых в корневом `AGENTS.md`;
- однозначность интерпретации документации и исключение смешения уровней.

---

## Принцип иерархии контекстов

Исходный контекст для работы на уровне `ctx/` определяется документами на пути от корневого `AGENTS.md` до текущего пространства.
Локальные документы могут расширять контекст за счёт декларативных ссылок на соседние уровни при соблюдении их границ.
Такой подход сохраняет самодостаточность каждого уровня и обеспечивает управляемое привлечение знаний других аспектов модели.

---

## Критерии качества документации ADSM

Документы уровня `ctx/` формируются в соответствии с восемью критериями качества ADSM.

### 1. Декларативность

Документ фиксирует свойства, границы и инварианты уровня.
Он описывает **что истинно в модели**, а не процедуры, инструкции или последовательности действий.

### 2. Полнота

Отражены назначение, границы, связи и обязательные инварианты.
В документе отсутствуют смысловые пробелы, требующие домысливания.

### 3. Непротиворечивость

Утверждения согласованы внутри уровня и с вышестоящими декларациями.
Исключены конфликтующие определения и пересечения.

### 4. Связность

Элементы документа образуют цельную структуру.
Определения, границы и выводы выстраиваются в единый контекст.

### 5. Плотность

Каждый фрагмент вносит самостоятельное знание.
Исключено дублирование, пустые и расплывчатые формулировки.

### 6. Компактность

Сущность изложена минимальными средствами без потери точности.
Документ не перегружён второстепенными или слабо связанными деталями.

### 7. Неизбыточность

Документ не повторяет утверждений, зафиксированных на других уровнях.
Каждый слой несёт только то, что относится к его границам.

### 8. Отсутствие описаний поведения по умолчанию

Не фиксируются свойства, автоматически следующие из стандартного поведения технологий, если они не являются инвариантами уровня.
Документ отражает только то, что требует явного закрепления.

---

## Требования

Каждый документ в пределах `ctx/` сразу после заголовка указывает путь к себе:

```md
Path: `./ctx/.../doc-name.md`
```

---

## Итог

`ctx/AGENTS.md` определяет структуру и границы когнитивного пространства `ctx/` и служит декларативной основой для работы агента в рамках ADSM на уровне контекста.

---
