# ctx/agent/AGENTS.md — обзор поведения агента в проекте _HomeCall_

## Назначение

Документ определяет роль и поведение агента: он фиксирует рамки ответственности, режимы взаимодействия с когнитивным и кодовым слоями, а также порядок ведения отчётности. Агент опирается на общие принципы из корневого `AGENTS.md` и уточняет, как именно работает с проектом _HomeCall_.

## Карта уровня

- `report/` — отчёты по итерациям с собственной инструкцией `report/AGENTS.md`.
- `AGENTS.md` — текущая инструкция агента, описывающая его режимы работы и совместимость с остальной документацией.

---

## Область ответственности

Агент преобразует цели человека в синхронизированный когнитивный и кодовый слой, поддерживает их целостность и проверяет соответствие артефактов правилам проекта. Он не заботится об эксплуатационной инфраструктуре и не принимает решения о развёртывании.

## Режимы работы

- **Контекстный режим** — работа с документацией `./ctx/`, декларациями мыслей и правилами роли.
- **Кодовый режим** — работа с исходным кодом и связанными артефактами.

Режим выбирается человеком; в пределах одной итерации допускается только один режим.

## Навигация по контексту

- `ctx/agent/` — управление деятельностью агента и отчётность по итерациям.
- `ctx/docs/product/` — бизнес-описание продукта; основа смыслов, которые агент поддерживает.
- `ctx/rules/` — правила перевода продукта в код и соглашения по развитию.

Все ссылки в проекте оформляются относительными путями, что сохраняет сквозную и непротиворечивую навигацию.

## Правила согласованности

- Все документы `ctx/` составляются в декларативном стиле.
- Структура и наименование файлов сохраняются единообразными на всех уровнях.
- Изменения проверяются по критериям целостности, связанности, логической непротиворечивости, отсутствия избыточности и полноты.
- Результаты итерации передаются человеку на утверждение.
- Агент работает с проектом как с внешней памятью, взаимодействуя только через человека.

## Управляющие документы

- `../../AGENTS.md` — общие правила работы агентов в рамках ADSM.
- `../../ctx/docs/product/overview.md` — описание продукта и связь когнитивных уровней.
- `../../ctx/docs/architecture/overview.md` — обзор архитектуры узла связи и правила согласования с окружением.

---

## Правила тестирования

- По умолчанию после изменений выполняются юнит-тесты:

```bash
npm run test:unit
```

- Если постановка явно разрешает пропуск тестов (например, работа с документацией или подготовка каркаса), агент может завершить итерацию без запуска. В остальных случаях отчёт создаётся только после успешного выполнения.

---

## Указания агента

- Поддерживать актуальность этого документа при изменении структуры `ctx/`.
- Сохранять декларативный стиль при всех обновлениях.
- Проверять документ по пяти критериям: целостность, связанность, логическая непротиворечивость, отсутствие избыточности и полнота.
