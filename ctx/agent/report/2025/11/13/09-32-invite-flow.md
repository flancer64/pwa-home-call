# 09-32-invite-flow

**Цель итерации**  
Обновить документацию браузерного слоя ДомоЗвон так, чтобы экран `invite` воспринимался как ручной инструмент инициатора, а получатель всегда запускал основной поток через `enter`.

**Действия**
- скорректированы `app.md`, `contours/core.md`, `ui/screens.md` и `ui/screens/invite.md`, чтобы зафиксировать основной поток `enter → lobby → call → end → lobby` и вспомогательный пик `invite` через `ui:action:share-link`;
- описаны события `invite:confirm`/`invite:cancel`, уведомления `HomeCall_Web_Ui_Toast` и возвращение к предыдущему экрану после отправки ссылки;
- обновлены `ui/toolbar.md` и `infra/storage.md` для отражения ручного запуска `share`, сохранения URL-параметров в `localStorage` и подстановки этих значений на `enter`.

**Результаты**
- вся ветка документации согласована: `invite` не приводит в себя получателей, а параметры ссылки обрабатываются на `enter`;
- описаны ограниченный и ручной характер `share`/`invite`, события и возвращение в UI;
- добавлена визуальная картина основного и вспомогательного потоков, а `storage` теперь ясно говорит о сохранении параметров из URL.

**Соответствие критериям ADSM**
1. **Декларативность** — все документы фокусируются на ролях экранов/событий (`app`, `core`, `screens`, `invite`) без описания реализации.
2. **Полнота** — описаны обе роли: инициатор (через `invite`, `toolbar` и события) и получатель (через `enter`, `storage`).
3. **Непротиворечивость** — нигде не фигурирует `invite` как экран получателя, а получение параметров привязано к `enter`.
4. **Связность** — `core`, `ui`, `toolbar` и `storage` пересказывают одни и те же переходы/события `ui:action:share-link`, `invite:confirm`, `invite:cancel`.
5. **Плотность** — удалены расплывчатые повторения, каждая подсекция про `invite` говорит только об инициаторе и отправке ссылки.
6. **Компактность** — `app.md` описывает систему в целом, `core` — оркестрацию, `screens` — состояние, `invite` — экран, `toolbar` — пункт меню, `storage` — параметры; пересечений нет.
7. **Неизбыточность** — функция `share` описана один раз, а `invite` больше не дублируется как экран подтверждения; повторяющаяся информация была сведена к ссылкам между документами.
