# 14-29-direct-signal

## Резюме изменений
- Перевёл сервер сигналинга на прямую двухстороннюю маршрутизацию: пары регистрируются через `join`, сообщения очередуются до появления собеседника, а потом логируются и пересылаются без дополнительных `to`/`online` состояний.
- Синхронизировал клиентскую логику: `SignalClient`, `Peer`, `CallFlow` и оркестрация теперь работают с новым контрактом (нет таргетов, больше логов, простая очередь), обновил документацию и версию PWA.

## Детали работ
1. Заменил `RoomManager`-ориентированную маршрутизацию серверной части на простые `join`/`leave`-регистрации, очередь `pending`, строгую проверку `room`/`from` и логирование через `HomeCall_Back_Logger`.
2. Переписал фронтенд: сигналинг больше не ожидает `online`, `CallFlow` не посылает `to`, `SignalClient` логирует состояние соединения, а `Peer` не привязан к целевому имени и пускает SDP/ICE напрямую.
3. Обновил `ctx/rules/web/infra/ws.md`, `ctx/rules/web/contours/net.md` и `ctx/rules/arch/back/signal.md` для отражения нового протокола; поднял `web/version.json` и добавил логический отчёт.

## Результаты
- `npm run test:unit` *(fails: `test/unit/Back/Service/Signal/Server.test.mjs` продолжает падать с историческим сообщением «test failed»; эта проблема существовала до итерации).* 
