# Отчёт об итерации — поддержка звонков без медиа

## Резюме изменений
- Обновил подготовку медиа-устройств и обработку звонков для работы без камеры и микрофона.
- Переработал экран звонка согласно макету видеопотоков, добавил сообщение об отсутствии локального медиа.
- Улучшил RTC-логику для безопасной замены потоков в PeerConnection.

## Детали работ
- Использовал `enumerateDevices` для определения доступных аудио/видео входов, динамического формирования `getUserMedia` и подписки на `devicechange`; добавил логирование и очистку треков при переподключении.
- Скорректировал обработчики сигналинга и завершения вызова, чтобы разрешить пустые потоки, отображать уведомление о недоступной локальной медиа и корректно останавливать треки.
- Изменил разметку и стили экрана звонка: фулл-скрин удалённое видео, миниатюра пользователя с закруглением и тенью, кнопка завершения поверх, адаптивность сохранена.
- В `PeerConnection` реализовал защиту от дублирования треков и удаление устаревших отправителей при смене локального потока.

## Результаты
- PWA корректно устанавливает соединение даже при отсутствии камеры/микрофона и информирует пользователя об ограничениях.
- Интерфейс звонка соответствует требованиям `ctx/rules/web/ui/screens.md` по раскладке видеопотоков.
- RTC-слой устойчив к повторным вызовам с частичными или пустыми потоками.
