# 00-20-big-button-icon-wrapper

Path: `./ctx/agent/report/2025/12/09/00-20-big-button-icon-wrapper.md`

## Резюме изменений
- Согласовал документацию `big-button` и `icon-wrapper` с новым контрактом: иконки передаются строго через слот, цвет наследуется, `big-button` не управляет загрузкой SVG.
- Переписал `big-button` (шаблон и логика атрибутов) и `icon-wrapper` (fetch inline-SVG, контейнер, CSS) в соответствии с описанным поведением.
- Зафиксировал новую версию веб-слоя `20251208-222100`, указывая на актуальность сборки после правок.

## Детали работ
- Убрал `icon`-атрибут из API `big-button`, добавил default-слот с `icon-wrapper`, описал автоматическую подстановку `circle-check` и подчеркнул зависимость цвета от `currentColor`.
- Добавил правило в документацию `icon-wrapper`, объясняющее fetch из `web/assets/icons/`, запрет `<img>` и отсутствие API цвета; CSS/JS компонента теперь вставляют SVG внутрь `.icon`.
- Настроил `icon-wrapper` так, чтобы он асинхронно загружал inline-SVG и очищал контейнер при ошибках, сохраняя модель размеров `small/medium/large`.
- Обновил `web/version.json` на `20251208-222100`, соблюдая требование об актуальной версии при изменениях внутри `web/`.

## Результаты
- `big-button` всегда отображает `icon-wrapper` из слота (или дефолт `circle-check`) и не занимается собственной загрузкой графики.
- `icon-wrapper` получает SVG через fetch и делегирует цвет контейнеру, исключая `<img>`; inline-SVG наследует `stroke=currentColor`.
- `npm run test:unit` (node --test "test/unit/**/*.test.mjs") — все 5 тестов прошли.
- Веб-версия установлена в `20251208-222100`.
