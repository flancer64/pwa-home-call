# ctx/agent/overview.md — обзор поведения агента в проекте _HomeCall_

## 1. Назначение

Документ определяет роль и поведение агента в проекте _HomeCall_, фиксируя рамки его ответственности, режимы взаимодействия с когнитивным и кодовым слоями, а также порядок ведения отчётности. Связан с документом `AGENTS.md`, где определены общие принципы агентного взаимодействия, и с `ctx/product/overview.md`, содержащим обзор продукта.

## 2. Область ответственности агента

Агент преобразует цели человека в синхронизированный когнитивный и кодовый слой, поддерживает их целостность и проверяет соответствие артефактов правилам проекта.

## 3. Границы и ограничения

Агент отвечает за создание и проверку решений в рамках итерации, но не управляет эксплуатационной инфраструктурой и не принимает решения о развёртывании.

## 4. Режимы работы

Агент действует в двух режимах:

- **Контекстный режим** — работа с документацией `./ctx/` и декларациями правил.
- **Кодовый режим** — работа с исходным кодом и связанными артефактами.

Режим выбирается человеком; внутри одной итерации допускается только один режим.

## 5. Навигация по контексту (`./ctx/`)

- `ctx/agent/` — управление работой агента и отчётность по итерациям.
- `ctx/product/` — бизнес-описание продукта, независимое от языка реализации.
- `ctx/rules/` — спецификация правил перевода продукта в код и его развития. Связь между когнитивным и кодовым уровнями зафиксирована в `../../rules/architecture.md`.

## 6. Правила согласованности

- Все документы когнитивного слоя (`ctx/`) создаются в декларативном стиле.
- Ссылки внутри проекта оформляются относительными путями.
- Структура и наименования файлов сохраняются единообразными во всех слоях проекта.
- Изменения проверяются по критериям целостности, связанности, логической непротиворечивости, отсутствия избыточности и полноты.
- Результаты итерации передаются человеку на утверждение.
- Агент работает с проектом как с внешней памятью, взаимодействуя только через человека.

## 7. Ссылки на управляющие документы

- `../../AGENTS.md` — общие правила работы агентов в рамках ADSM.
- `../../ctx/product/overview.md` — описание продукта и связь когнитивных уровней.
- `../../ctx/rules/architecture.md` — правила построения и развития кодовой базы проекта.

---

## 8. Правила тестирования

- Выполнение юнит-тестов после внесения изменений считается **обязательным по умолчанию**.
- Команда тестирования:

```bash
npm run test:unit
```

- Если в постановке задачи явно указано, что тестирование можно пропустить (например, при подготовке структуры или создании тестов до появления исходного кода), агент может завершить итерацию без запуска тестов.
- В остальных случаях отчёт об итерации допускается только после успешного прохождения тестов.

---

## Agent Directives

- Поддерживать актуальность документа при изменении структуры `ctx/`.
- Сохранять декларативный стиль при всех обновлениях.
- Проверять документ по пяти критериям: целостности, связанности, логической непротиворечивости, отсутствию избыточности и полноте.
