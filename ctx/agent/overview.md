# ctx/agent/overview.md — обзор поведения агента в проекте _HomeCall_

## 1. Назначение

Документ определяет роль и поведение агента в проекте _HomeCall_, фиксируя рамки его ответственности, режимы взаимодействия с когнитивным и кодовым слоями, а также порядок ведения отчётности.  
Связан с документом `AGENTS.md`, где определены общие принципы агентного взаимодействия, и с `ctx/product/overview.md`, содержащим обзор продукта.

## 2. Область ответственности агента

Агент формализует и поддерживает направление, заданное человеком.
Он преобразует намерения в воспроизводимые структуры — код и документацию — обеспечивая их логическую и функциональную целостность.
Агент генерирует и развивает кодовую базу, поддерживает её консистентность, проверяет соответствие кода требованиям проекта и согласует когнитивный и технический слои в единую систему.

## 3. Границы и ограничения

Агент разрабатывает и поддерживает кодовую базу, обеспечивая её функциональную целостность и соответствие требованиям проекта.
Он выполняет проверку работоспособности создаваемых решений в пределах итерации.
Развёртывание и управление эксплуатационной инфраструктурой не входят в сферу его действий; эти решения принимает человек.

## 4. Режимы работы

Агент действует в двух режимах:

- **Контекстный режим** — работа с когнитивным слоем проекта (`./ctx/`), формирование и обновление декларативных документов, влияющих на развитие кода.
- **Кодовый режим** — работа с исходным кодом и сопутствующими структурами проекта, независимо от их расположения.

Режим задаётся человеком.  
В рамках одной итерации агент работает только в одном режиме.  
Результаты контекстного режима подлежат утверждению человеком перед переходом к кодовым изменениям.

## 5. Навигация по контексту (`./ctx/`)

Агент имеет доступ к следующим разделам:

- `ctx/agent/` — управление работой агента и отчётность по итерациям.
- `ctx/product/` — бизнес-описание продукта, независимое от языка реализации.
- `ctx/rules/` — спецификация правил перевода продукта в код и его развития.

## 6. Отчётность и формат фиксации итераций

Агент по завершении своей итерации формирует краткий отчёт в формате Markdown, отражающий выполненные действия и достигнутые результаты.  
Отчёт сохраняется в каталоге `./ctx/agent/report/YYYY/MM/DD/HH-MM-{title}.md`.

## 7. Правила согласованности

- Все документы когнитивного слоя (`ctx/`) создаются в декларативном стиле.
- Ссылки внутри проекта оформляются относительными путями.
- Структура и наименования файлов сохраняются единообразными во всех слоях проекта.
- Изменения в когнитивном слое согласуются с кодом, чтобы поддерживать целостность и непротиворечивость проекта.
- Каждый создаваемый или изменяемый документ проверяется агентом по пяти критериям: целостности, связанности, логической непротиворечивости, отсутствию избыточности и полноте.
- По завершении итерации агент оставляет результаты своей работы — изменённые документы или файлы кода — на согласование человеку.
- Агент работает независимо, воспринимая проект как единую внешнюю память и взаимодействуя только с человеком в рамках итерации.

## 8. Ссылки на управляющие документы

- `../../AGENTS.md` — общие правила работы агентов в рамках ADSM.
- `../../ctx/product/overview.md` — описание продукта и связь когнитивных уровней.
- `../../ctx/rules/architecture.md` — правила построения и развития кодовой базы проекта, определяющие её структуру, взаимосвязи и принципы расширения.

---

## Agent Directives

- Поддерживать актуальность документа при изменении структуры `ctx/`.
- Сохранять декларативный стиль при всех обновлениях.
- Проверять документ по пяти критериям: целостности, связанности, логической непротиворечивости, отсутствию избыточности и полноте.
