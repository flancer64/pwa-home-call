# Архитектура приложения HomeCall (обзор)

## Назначение

HomeCall — Node.js-приложение, созданное по философии **TeqFW** с использованием пакета **@flancer32/teq-web**. Оно предоставляет прогрессивное веб-приложение (PWA) для семейной видеосвязи.

## Основные компоненты

1. **Node.js-приложение** — единый процесс, обслуживающий запросы и управляющий версиями клиентского кода.
2. **Сервер `@flancer32/teq-web`** — раздаёт статические ресурсы PWA.
3. **Файловое хранилище** — сохраняет рабочие данные (например, сведения о пользователях) в формате JSON без использования баз данных.
4. **PWA-клиент** — устанавливается в браузер и обновляется автоматически при изменении версии кода на сервере.
5. **Архитектура развёртывания** — приложение состоит из двух частей: фронтенд (статика в `./web/`, обслуживается Apache напрямую) и бэкенд (Node.js API, обрабатываемый `@flancer32/teq-web` и проксируемый через Apache).

## Версионирование и обновления

- Каждая сборка PWA имеет уникальный номер версии, отражённый в манифесте.
- Сервер при каждом запросе отдаёт актуальную версию кода.
- Сервис-воркер на клиенте автоматически обновляет локальную копию при обнаружении новой версии.

## Итог

Минимальная архитектура: одно Node.js-приложение управляет раздачей, хранением переменных данных и механизмом обновления PWA без внешних зависимостей.
