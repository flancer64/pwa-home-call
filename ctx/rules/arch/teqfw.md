# Проектные правила использования TeqFW в Колобок

## Назначение

Документ фиксирует архитектурные правила плагина **Колобок**, интегрированного с платформой **TeqFW**.  
Определяет структуру исходников, namespace-маппинг и принципы размещения контрактов в зоне **Back**.

## Архитектура плагина

Платформа **TeqFW** предусматривает три зоны: `Front`, `Back`, `Shared`.  
В текущей итерации используется только зона **Back**.  
Все исходные файлы плагина размещаются внутри каталога `src/Back/`.

**Пример файловой структуры исходного кода плагина:**

```text
src/
└── Back/
  ├── Api/
  │   └── Storage.js
  ├── Contract/
  │   └── Logger.js
  ├── Service/
  │   └── Config.js
  └── App.js
```

**Namespace-примеры:**

- `HomeCall_Back_Api_Storage`
- `HomeCall_Back_App`
- `HomeCall_Back_Contract_Logger`
- `HomeCall_Back_Service_Config`

## Пространство имён

- Корневой каталог исходников — `src/Back/`.
- Namespace формируется прямым отображением пути файла.
- В корне плагина других каталогов, кроме `Back/`, не допускается.

## Контракты и API

Контракты определяют внутренние соглашения между компонентами зоны,  
API описывает интерфейсы, доступные внешним пакетам.  
Оба типа располагаются только под `src/Back/`.

- **`Contract/`** — внутренние соглашения зоны (`..._Contract_...`).
- **`Api/`** — внешние интерфейсы зоны (`..._Api_...`).

## DI и структура

- Управление зависимостями выполняется контейнером `@teqfw/di`.
- Namespace-маппинг задаётся правилами из `./teqfw/di.md`.
- Модули декларативны; контейнер инициализируется только в `composition root`.

## Связанные документы

- `./teqfw/di.md` — работа контейнера зависимостей.
- `./env/node.md` — окружение Node.js.
- `./architecture.md` — связи зон и общая структура.

## Результат

Документ задаёт действующую архитектурную декларацию плагина **Колобок**.  
Текущая реализация ограничена зоной **Back**, полностью совместимой с трёхзонной моделью TeqFW.
