# Связность архитектуры и окружений

## Назначение

Документ поясняет, как декларации `ctx/rules/architecture.md` переходят в конкретные параметры окружений `env/*`, обеспечивая целостную иерархию проектных правил Связист.

> **Согласованность с продуктом:** модель `ctx/product/overview.md` и связанные `capabilities` требуют, чтобы инфраструктура поддерживала одно окно и единую сессию `ready/waiting/active`, а `sessionId` оставался технической меткой, привязанной к текущему URL. Все ссылки и параметры, описанные ниже, сохраняют эту гарантию: окружение разворачивается без учёта персональных данных, а план `ctx/agent/plan/2025/11/20251129-rules-implementation-fixes.md` объясняет, как frontend со временем перейдёт от `home → invite → call → end` к этой же модели.

## Иерархия

1. `architecture.md` описывает логическую структуру приложения, роли компонентов и использование `@teqfw/di`.
2. Документы `env/apache.md` и `env/node.md` детализируют инфраструктурные параметры для внешнего HTTP-сервера и внутреннего Node.js-процесса.
3. Документ `env/config.md` фиксирует конкретные параметры `.env`, связывая архитектурные требования с фактической конфигурацией окружения.  
   Он определяет, какие переменные передаются в Node.js-процесс и как они влияют на работу API, WebSocket-сигналинга и внешнего доступа.

Архитектурный уровень задаёт требования, которые окружения реализуют в своих конфигурациях.

## Ссылки

- `architecture.md`
- `env/apache.md`
- `env/config.md`
- `env/node.md`

## Итог

Связность между архитектурой и окружениями гарантирует, что инфраструктурные решения отражают логическую модель Связист и остаются синхронизированными с когнитивным контекстом.
