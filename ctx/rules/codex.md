# Влияние когнитивного слоя на генерацию кода

## Назначение

Документ описывает, как контекст каталога `ctx/` управляет работой агента Codex при генерации и модификации исходного кода Связист.

## Принципы

- Декларации из `ctx/` трансформируются в шаблоны и ограничения, реализуемые в `src/` и связанных артефактах.
- Агент Codex использует документы `rules/arch/*` как спецификации структуры модулей, конфигурации DI и стратегии развёртывания.
- Перед изменениями агент проверяет когнитивный слой на целостность, логическую непротиворечивость и полноту.
- Все внешние зависимости анализируются по их официальной документации (`README.md` пакета).  
  Проектные документы лишь уточняют применение этих зависимостей, не дублируя их описание.
- Это обеспечивает корректность использования API и переносимость архитектуры при обновлении пакетов.
- Шаблон `./teqfw/module-template.md` определяет эталонную форму ES6-модуля для контейнера `@teqfw/di`.

## Контроль качества

- Каждая итерация генерации сопровождается проверкой согласованности новых артефактов с правилами `ctx/`.
- Обнаруженные несоответствия фиксируются в отчётах и требуют уточнения правил человеком.
- Документ служит исходной точкой для обновления правил генерации при изменении архитектуры или внешних зависимостей.

## Ссылки

- `./architecture.md`
- `../agent/overview.md`

## Итог

Когнитивный слой направляет генерацию кода и гарантирует, что решения агента Codex остаются согласованными  
с архитектурой Связист, принципами TeqFW и документацией используемых пакетов.
