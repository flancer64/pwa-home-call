# Home Screen

**Путь:** ./ctx/rules/web/ui/home.md

## Назначение

Main screen ДомоЗвона — это входной барьер для пожилого пользователя, который ожидает одного действия: нажать «Позвонить». Имя вводится только при первом запуске в одно поле, сохраняется локально и больше не появляется в интерфейсе. ДомоЗвон генерирует комнату с UUID, формирует ссылку и предлагает отправить её автоматически.

## Состояния

1. **Инициализация**
   - Приложение проверяет `localStorage` на наличие имени.
   - Если имя отсутствует, показывается форма с одним полем «Введите имя» и кнопка «Сохранить и позвонить».
   - После ввода имя сохраняется, экран переключается на большую кнопку «Позвонить».
   - Любое пояснение повторяет: «Имя запоминается и больше не запрашивается».
2. **Готовность**
   - Показывает одну большую кнопку «Позвонить» в центре экрана.
   - Все статусные сообщения транслируются только через `toast` (см. `notifications.md`); в интерфейсе не устанавливаются дополнительные подсказки или статусы.

## Действия

- **Нажать кнопку «Позвонить»**
  - ДомоЗвон формирует UUID-комнату и автоматически вызывает механизм из `share-link.md` для формирования и расшаривания ссылки.
  - Интерфейс остаётся на экране `home`, а все статусы и ошибки появляются как `toast`, чтобы не отвлекать пользователя.
  - Как только собеседник присоединяется, `HomeCall_Web_Core_App` переводит состояние в `call`.
- **Подключение по ссылке**
  - Если пользователь запустил приложение по полученной ссылке, `home` размечает UUID и инициирует автоподключение без дополнительных кликов. Имя берётся из локального хранилища: если оно отсутствует, снова показывается поле ввода.

## Настройки и помощники

- В интерфейсе нет дополнительных панелей или переключателей — вся логика происходит внутри `home`.
- Статусы и ошибки (имя не введено, камера недоступна, проблемы с сетью) передаются через `notifications.md` через краткие `toast`-уведомления.
- Ссылка выводится либо через Web Share API, либо через копирование; пользователь получает toast «Ссылка скопирована», а затем может поделиться тем каналом, который ему привычен.

## Связи

- `share-link.md` — как создаётся URL, как работает Web Share API и fallback.
- `notifications.md` — toast о «Ссылка готова», «Ссылка скопирована», медиа/связь.
- `ctx/product/scenarios/first-run.md` и `daily-use.md` — сценарии сохранения имени и ежедневного использования.
