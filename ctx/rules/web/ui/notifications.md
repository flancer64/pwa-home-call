# Toast Notifications

## Назначение

Toast-уведомления Связиста передают единственную, краткую информацию: готовность ссылки, копирование, ошибки медиа и соединения. Они работают поверх минимального UI без лишних панелей, чтобы поддерживать поток «нажал кнопку — получил результат».

## Интерфейс

```ts
toast.info(message, options);
toast.success(message, options);
toast.warn(message, options);
toast.error(message, options);
toast.hide();
```

Параметры:

- `message` — простой, утвердительный текст.
- `options.duration` — по умолчанию 4000 мс; для критических ошибок можно увеличить до 6000 мс.
- `options.icon` — используется только для типовых иконок, остальные параметры не требуются.

## Поведение

- Сообщения ставятся в очередь (FIFO), пока одно отображается, другие ждут.
- Уведомления выравниваются внизу экрана, не мешают кнопке «Позвонить» и адаптируются под сенсорные устройства.
- Нет дополнительных визуальных панелей: сообщения вызываются напрямую из `home`, `call` или `share-link`.
- `toast.hide()` завершает текущее уведомление, после чего показывается следующее.
- Все статусы логируются в `HomeCall_Web_Shared_Logger$`.

## Типы уведомлений

| Сценарий | Тип | Примеры текста |
| --- | --- | --- |
| Ссылка готова | `success` | «Ссылка готова. Отправьте её собеседнику.» |
| Ссылка скопирована (fallback) | `info` | «Скопировано. Вставьте ссылку в привычный мессенджер.» |
| Ошибка доступа к медиа | `warn` | «Камера недоступна — вы можете продолжить без видео.» |
| Ошибка подключения / сигнализации | `error` | «Связь прервана. Попробуйте снова.» |
| Повторное подключение | `info` | «Переподключение…» |

## Примеры вызовов

- `home` — `toast.success('Ссылка готова')` после генерации комнаты; `toast.info('Скопировано...')` если Web Share API не доступен.
- `call` — `toast.warn('Микрофон выключен')`, `toast.error('Связь прервалась')`.
- `end` — `toast.info('Вернитесь на главный экран, чтобы позвонить ещё раз')`.

## Связи

- `home.md` и `share-link.md` — формируют и рассылают ссылку, активируют `toast`.
- `screens/call.md` и `end.md` — статусы соединения и медиаресурсов.
- `ctx/product/features.md` и `features/invite.md` — подтверждают бизнес-ценность однокнопочного вызова и автоматического приглашения.
