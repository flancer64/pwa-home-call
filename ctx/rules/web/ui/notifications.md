# Toast Notifications

## Назначение

Все статусы, ошибки и короткие подтверждения в Связисте передаются исключительно через тосты. Это позволяет экранам оставаться чистыми, не нарушает трёхзонную структуру и соответствует ограничению — никаких оверлеев, дополнительных панелей или описаний поверх видео.

## API

```ts
toast.info(message, options);
toast.success(message, options);
toast.warn(message, options);
toast.error(message, options);
toast.hide();
```

Параметры:

- `message` — лаконичная строка на русском.
- `options.duration` — по умолчанию 4000 мс; для критических случаев можно увеличить до 6000 мс.
- `options.icon` — необязателен; используется только если требуется уточнить тип уведомления.

## Поведение

- Сообщения ставятся в очередь (FIFO); пока один тост отображается, следующие ожидают.
- Контейнер располагается внизу экрана, не перекрывает CTA и адаптирован для сенсорных устройств.
- `toast.hide()` завершает активное уведомление и запускает следующий.
- Сообщения логируются через `HomeCall_Web_Shared_Logger$`.
- `component/screen-note` и другие hint-элементы не отображают динамические сообщения; они остаются статичными, а все события фиксируются только через toast.

## Статусы

| Сценарий | Тип | Текст | Контекст |
| --- | --- | --- | --- |
| Ссылка готова | `success` | «Ссылка готова. Отправьте её собеседнику.» | `home` → `invite` после генерации `sessionId`.
| Скопировано вручную | `info` | «Скопировано. Вставьте ссылку в привычный мессенджер.» | `share-link` при использовании Clipboard API.
| Ошибка шаринга | `.warn` | «Не удалось поделиться ссылкой.» | `share-link` при недоступности Web Share API.
| Ошибка доступа к камере/микрофону | `warn` | «Камера недоступна — вы можете продолжить без видео.» | `MediaManager` после отказа.
| Сбой сигналинга/соединения | `error` | «Связь прервана. Попробуйте снова.» | `Flow` при отключении или сбое.
| Пришёл собеседник | `info` | «Собеседник подключён.» | `Rtc`/peer state transitions.

## Примеры вызовов

- `home` — `toast.success('Ссылка готова...')` и `toast.info('Скопировано...')` через `share-link`. Это единственные указания, которые всплывают перед переходом на `invite`.
- `invite` и `call` — статусы медиа/сигналинга приходят только сюда; сам экран остаётся без текстов.
- `end` — `toast.info('Вернитесь на главный экран, чтобы позвонить ещё раз')`.

## Ссылки

- `./layout.md` — чистая структура экранов без дополнительных панелей.
- `./style.md` — темная тема, крупные элементы и отсутствие лишних слоёв.
- `./screens.md` — переходы, которые инициируют тосты.
