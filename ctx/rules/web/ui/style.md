# Принципы визуального оформления

Path: `ctx/rules/web/ui/style.md`

## Назначение

Стиль задаёт единый визуальный язык всего приложения: крупный ритм, читаемость, понятная цветовая система и минимальное число элементов на экране.  
Экраны не определяют оформление — они только размещают текст и данные.  
Визуальное поведение контролов реализуют веб-компоненты, каждый со своим CSS, при этом глобальная тема задаётся общими переменными и стилями.

> **Согласованность с продуктом:** `ctx/product/overview.md` и `ctx/product/capabilities/connection.md` выявляют `ready/waiting/active` как варианты одного окна, поэтому стиль описывает зоны `header/action/hint` как state-фрагменты, которые плавно появляются/исчезают, даже если текущие документы говорят о `home → invite → call → end`. План `ctx/agent/plan/2025/11/20251129-rules-implementation-fixes.md` описывает, как эти фрагменты будут соединены в одну страницу.

Цель — обеспечить спокойный и предсказуемый интерфейс, удобный для пожилых пользователей: крупный текст, большие зоны касания, минимум перегрузки и стабильный визуальный ритм.

---

## Цветовая палитра и тема

Палитра фиксирована в `:root` и служит единым источником цветов для всех веб-компонентов. Значения не дублируются и не переопределяются локально.

### Базовая тема

- `color-scheme: dark` — основной режим приложения.
- Основной фон — глубокий градиент **`#002d2a → #0e6251`**, создающий спокойную визуальную глубину.
- Фоны панелей светлее основного фона; переходы мягкие, без резких границ.

### Функциональные группы цветов

#### Текст

- Основной текст: `#eaf2f1`
- Второстепенный текст: `#b8c7c3`
- Инверсный текст: тёмный почти-чёрный (для светлых сигналов и инфо-блоков)

#### Акценты и действия

- Основной акцент: `#0e6251`
- Подсветка активных состояний: `#0faf8f`
- Мягкие акцентные фоны: прозрачные зелёно-бирюзовые оттенки для подсветки областей

#### Сигнальные состояния

- Успех: зелёный градиент (`#0faf8f → #0e6251`)
- Информация: светлая бирюза (`#6ECFC0`)
- Предупреждение: жёлтый (`#E9A944`)
- Ошибка: красный (`#D95C4A`, `#B04536`)

Каждый сигнальный цвет имеет гарантированный читаемый текстовый цвет (либо белый, либо тёмный).

---

## Типографика и масштаб

- Системные шрифты: `-apple-system`, `Segoe UI`, `sans-serif`.
- Когда сомневаемся — текст делаем крупнее:
  - Заголовки и CTA: ≥ `1.25rem`
  - Основной текст: `1rem`
  - Мелкий текст: ≥ `0.95rem`
- Контролы `ui-large`:
  - высота ≥ 56px
  - внутренние отступы ≥ 1rem
  - радиус ≥ 1rem

### Текстовые поля

Текстовые поля используются минимально, но допускаются:

- оформляются в общей палитре;
- имеют крупный текст;
- placeholder — контрастный, не серый;
- фокус подчёркивается тонким акцентным контуром, без свечения.

---

## Визуальная глубина и тени

Интерфейс допускает **мягкую визуальную глубину** для упрощения восприятия:

- тени широкие, размытые, без жёстких границ;
- направление теней строго вниз и слегка наружу;
- панели и карточки слегка «приподняты», но без эффектов глянца;
- интерактивные элементы (кнопки) используют более лёгкие тени, чем панели.

Глубина помогает различать уровни контента, не превращаясь в декоративный элемент.

---

## Контролы и взаимодействие

- Количество CTA-кнопок **минимально**, но не ограничено одной.
- Иконки строго одноцветные:
  - используют `--icon-accent` или соответствующий сигнальный цвет,
  - без теней и без градиентов,
  - стандартные размеры: `24px` или `32px` по роли.
- Inline-SVG запрещён; иконки подключаются только как ресурсы компонентов или внешние SVG-файлы.
- В качестве библиотеки иконок используется пакет `lucide-static`.  
  Допускается копирование нужных файлов из `node_modules/lucide-static/icons/`  
  в `web/assets/icons/` для последующего использования как  
  `/assets/icons/<имя>.svg`.
- Отступы между интерактивными элементами: не менее `0.75rem`.
- Подсказок и тултипов нет, зона `hint` выводит только короткие статусы.
- Локальное и удалённое видео на `call` не перекрывается визуальными блоками.

### Состояния взаимодействия

- **focus:** тонкий контрастный контур (`#0faf8f`), без свечения и blur.
- **active/pressed:** небольшой рост контраста или затемнение, без смещения.
- **hover:** отсутствует или минимален (для сенсорных интерфейсов).

### Тосты

- Тосты — единственная зона отображения ошибок, разрешений и статусов.
- Цвета тостов соответствуют сигнальной палитре.
- Стили тостов вынесены в **отдельный CSS-файл**, чтобы не смешиваться с веб-компонентами.

---

## Работа веб-компонентов

- Каждый компонент (`component/*`) имеет собственный CSS и использует только переменные темы.
- Глобальные стили определяют:
  - палитру,
  - тени,
  - размеры,
  - фоновый градиент,
  - контрастные правила текста.
- Компоненты не вводят собственных несогласованных цветов.

---

## Доступность

Интерфейс оптимизирован под пожилых пользователей:

- высокий контраст палитры;
- крупные зоны касания;
- чёткая цветовая дифференциация  
  (зелёный = можно; жёлтый = внимание; красный = ошибка);
- адаптивная ширина, важные карточки ≤ 640px;
- тосты показываются ≥ 4 секунд и имеют aria-атрибуты.

---

## Ссылки

- `./layout.md` — трёхзонная схема
- `./notifications.md` — система тостов
- `./screens.md` — CTA и переходы между экранами
