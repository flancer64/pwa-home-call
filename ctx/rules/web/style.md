# Принципы визуального оформления

## Назначение

Документ фиксирует минимальные требования к визуальному оформлению фронтенда **ДомоЗвон**.  
Цель — обеспечить читаемость, доступность и комфортное взаимодействие с интерфейсом, особенно при первом подключении и запросе разрешений на камеру и микрофон.

## Границы и интерфейсы

Оформление ограничено рамками браузерного приложения ДомоЗвон и не затрагивает серверную часть или детали реализации контуров, описанных в `app.md`.

---

## 1. Общие принципы

- Интерфейс минималистичен и функционален.
- Приоритет — **читаемость**, **контрастность** и **доступность**.
- Все элементы крупные, удобные для касания на мобильных устройствах.
- Цветовая палитра нейтральная, без избыточных акцентов.
- Используются только системные шрифты (`sans-serif`).
- Без CSS-фреймворков (Bootstrap, Tailwind и т.п.).
- Вёрстка основана на **Flexbox** и **Grid**, без JS-позиционирования.
- Компоненты интерфейса не должны перекрывать системные диалоги разрешений.

---

## 2. Структура стилей

| Файл               | Назначение                                                                                   |
| ------------------ | -------------------------------------------------------------------------------------------- |
| `assets/style.css` | Основные стили приложения: размеры, цвета, кнопки, типографика, уведомления.                 |
| `ui/*.html`        | Локальные стили для отдельных экранов (например, объяснения и подсказки при первом запуске). |

Все стили подключаются одной строкой:

```html
<link rel="stylesheet" href="assets/style.css" />
```

---

## 3. Правила оформления

- Фон по умолчанию — `#f5f5f5`; текст — `#222`.
- Акцентный цвет (CTA-кнопки) — `#0078d7`.
- Радиус скругления — `0.5rem`.
- Используются единицы `rem` и `%`, без фиксированных пикселей.
- Минимальная высота кликабельных элементов — `44px`.
- Переходы — только через CSS-транзиции, без JS-анимаций.
- Текст и иконки центрированы, формулировки краткие.
- Ошибки и уведомления отображаются в верхней части экрана, не блокируя действия.
- CTA-кнопки («Разрешить доступ», «Повторить попытку», «Подготовить камеру») выделяются акцентным цветом и расположены внизу экрана.
- Информационные подсказки и предупреждения должны быть визуально отделены (например, светло-жёлтым или серым фоном).
- Изображения или иллюстрации в инструкциях допустимы, но без анимации и без отвлекающих элементов.

---

## 4. Адаптивность

- Вьюпорт фиксируется тегом `<meta name="viewport" content="width=device-width, initial-scale=1">`.
- Элементы масштабируются по ширине экрана, вертикальная прокрутка разрешена.
- В портретном режиме основное расположение вертикальное, в альбомном — горизонтальное.
- Видеопотоки масштабируются пропорционально без искажений.
- Миниатюра видео пользователя не должна перекрывать подсказки и уведомления.
- В мобильных браузерах текст и кнопки не должны выходить за пределы безопасной зоны экрана.

---

## 5. Разрешения на медиа

ДомоЗвон не содержит отдельного экрана разрешений и не показывает собственные CTA-кнопки вроде «Подготовить камеру» или «Разрешить доступ». При первом запуске приложение коротко объясняет необходимость камеры и микрофона (на 2–3 строках) и сразу вызывает системный диалог браузера (`getUserMedia()`).

- Текстовое пояснение не содержит статусов и ориентировано на простоту: «браузер попросит доступ к камере». Такие подсказки появляются только на этапе ввода имени и не дублируются в других местах.
- При отказе UI предлагает воспользоваться настройками браузера/системы, но это статический текст без кнопок; сама перезапроска зависит от системного окна.
- Ошибки и успешные восстановления устройств показываются через `toast`, чтобы интерфейс оставался свободным от внутренних указателей.
- Системные диалоги остаются в фокусе: никакие дополнительные компоненты не мешают пользователю работать с ними.

---

## 6. Доступность и комфорт для пожилых пользователей

Интерфейс ДомоЗвон предназначен для пожилых людей, использующих смартфоны и компьютеры.  
Основные принципы:

- Шрифт крупный (минимум `1.2rem`, в подсказках и уведомлениях — `1.4rem+`).
- Контраст высокий (темный текст на светлом фоне, без серых и цветных шрифтов).
- Все кнопки и интерактивные зоны имеют высоту не менее `50px` и широкие отступы.
- Элементы навигации всегда видимы, не скрываются под меню или иконками.
- Сообщения и подсказки формулируются простыми словами без технических терминов.
- Ошибки отображаются текстом и цветом одновременно (например, красный блок с пояснением).
- Минимум движущихся элементов: без анимаций, всплывающих окон и автоперемещающихся кнопок.
- При работе в альбомной ориентации шрифт и кнопки сохраняют пропорции.
- Поддержка системного масштабирования браузера и OS без потери верстки.
- Все уведомления должны оставаться на экране достаточно долго (не менее 5 секунд) и иметь кнопку «Понятно».

Эти принципы обязательны для всех экранов (`home`, `call`, `end`).

## 7. Связи

- `./app.md` — логика отображения и вызова `prepareMedia()`.
- `../arch/front.md` — архитектура фронтенда.
- `./ui/screens.md` — структура экранов и сценарии поведения.
- `./structure.md` — размещение CSS-файлов.

---

## Итог

Этот документ задаёт обновлённые принципы визуального оформления ДомоЗвон, включая UX-сценарии получения разрешений на камеру и микрофон.  
Оформление должно быть понятным, доступным и не отвлекать от основной цели приложения — связи между пользователями.  
См. также `app.md` — обзорный документ браузерного приложения ДомоЗвон.
