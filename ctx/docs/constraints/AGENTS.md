# **AGENTS.md — Constraints Layer (оптимизированная версия)**

**Path:** `ctx/docs/constraints/AGENTS.md`

## Назначение уровня

Каталог `constraints/` фиксирует обязательные инженерные ограничения, которые являются прямыми следствиями продуктовых инвариантов и должны сохраняться при любой корректной реализации.
Документы уровня формулируют только **устойчивые свойства** сеанса, ссылки, узла и хранения данных, не описывая архитектуру, UX или механики исполнения.

## Карта уровня

- `AGENTS.md` — назначение уровня и карта, определяющая правила работы на уровне `constraints`.
- `conventions.md` — постоянные инженерные инварианты: единственный идентификатор сеанса, упрощённый лог-трейс и двухучастниковость.
- `link.md` — инварианты ссылки как декларации идентификатора сеанса, не создающей сеанс до обращения и обрывающей контекст после завершения.
- `node.md` — изоляция контекстов узла: параллельные идентификаторы сеанса, изолированные состояния и строгая двухучастниковая модель.
- `session.md` — жизненный цикл сеанса: контекст по ссылке, ограничение двумя участниками и повторное использование только после очистки.
- `storage.md` — ограничения хранилища: лишь технические метаданные, отсутствие идентификатора сеанса и недопустимость восстановления контекста.

## Граница уровня

Уровень фиксирует **только** обязательные свойства реализации: то, что всегда истинно при любой архитектуре.
Здесь **не** определяются механизмы, компоненты, структуры каталогов, UX, алгоритмы, протоколы или правила исходников.
Всё перечисленное относится к архитектурным, прикладным и кодовым уровням.
