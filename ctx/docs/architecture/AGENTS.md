# Архитектурный слой узла связи Проекта

Path: `./ctx/docs/architecture/AGENTS.md`

## Назначение

Каталог `ctx/docs/architecture/` реализует архитектурную ступень в когнитивном контексте проекта, связываясь с `ctx/AGENTS.md` как декларативным ядром и уточняя смысловые инварианты product/constraints-уровней в форме системной архитектуры. Он фиксирует устойчивые контуры, данные, фазы и границы узла связи и через это обеспечивает, чтобы дизайн-уровень мог строиться на однозначном образе формы. `overview.md` остаётся единственным источником архитектурных сущностей, `shapes/` деталируют контуры, события и фазовую модель, `boundaries/` описывают только интерфейсы между ними, а `analysis.md` служит вспомогательной картой переходного корпуса, не создавая новых инвариантов.

## Карта уровня

- `boundaries/` — декларативные описания пересечений клиентского, сигнального и серверного контуров.
- `shapes/` — контейнер архитектурных форм клиента, сервера, сигналинга и фаз контекста.
- `AGENTS.md` — текущая инструкция уровня.
- `analysis.md` — таблица «Факт → Целевое состояние → Действие» и исходный обзор корпуса.
- `overview.md` — ядро архитектурного уровня, единственный источник формы.

## Границы уровня

- Архитектура фиксирует форму системы (контуры, границы, данные, инварианты, фазы), но не реализацию, API, JSON/SDP/WS, DI или инфраструктурные механизмы.
- Shapes и boundaries могут ссылаться только на сущности, объявленные в `overview.md` и в `ctx/docs/product/*` или `ctx/docs/constraints/*`; они не создают новые роли или события и не повторяют реализационные подробности.
- `analysis.md` содержит рабочую таблицу и может обновляться при переоценке корпуса, но не становится источником архитектурных инвариантов.

## Правила для агента

1. `overview.md` остаётся единственным источником архитектурной формы; все другие документы объясняют или уточняют его содержание, но не расширяют его перечень сущностей.
2. Каждый shape-файл описывает контур, события или фазы в декларативной форме: фиксирует контуры, архитектурные данные, состояния и инварианты, без процедур и технических деталей.
3. Boundary-файлы описывают только пересечения контуров и обязаны быть не накладывающимися на shape-фрагменты; повторения сведены к минимуму, и любая перекликающаяся формулировка исключает конкретные реализации.
4. Поддерживайте 8 критериев качества ADSM: декларативность, полноту, непротиворечивость, связность, плотность, компактность, неизбыточность и отсутствие описаний поведения по умолчанию.
5. При ссылках используйте только `ctx/...`; внешние каталоги (например, `ctx/docs/product/*`) не включаются без дополнительной инструкции.
