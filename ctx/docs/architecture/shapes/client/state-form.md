# Состояния клиентского контура

Path: `./ctx/docs/architecture/shapes/client/state-form.md`

## Назначение

Формализовать архитектурные состояния клиента и их неизменные ограничения, опираясь на фазовую модель и симметрию контекста.

## Состояния

- `ready` — `sessionId` объявлен, ссылка действительна, обмен ещё не начинается.
- `waiting` — ожидается подтверждение второго участника и согласование архитектурных событий.
- `active` — оба клиента соединены внутри одного `sessionId`, сигнальный контур удерживает симметрию.
- `ended` — обмен завершён, новые события не принимаются до нового объявления `sessionId`.

## Инварианты

- Клиент хранит только перечисленные состояния и не вводит дополнительные скрытые флаги.
- Контур не расширяет количество участников сверх двух и придерживается симметрии, указанной в `ctx/docs/product/overview.md`.
- Все архитектурные события клиента проходят через сигнальный контур, сохраняя порядок и симметрию `sessionId`.
