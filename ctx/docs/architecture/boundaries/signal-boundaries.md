# Архитектурные границы сигнального контура

Path: `./ctx/docs/architecture/boundaries/signal-boundaries.md`

## Назначение

Определить, какие архитектурные события пересекают границы сигнального контура с клиентом и сервером и какие инварианты при этом соблюдаются.

## Сигнальный контур ↔ Клиентский контур

- Клиент инициирует события (`предложение`, `ответ`, `кандидат`, `завершение`, `ошибка`) и связывает их с одним `sessionId`.
- Сигнальный контур сохраняет симметрию и упорядоченность, обеспечивая, что события двух клиентов сопоставлены по одному контексту.
- Граница ограничена архитектурными единицами: никаких JSON-полей, callback-цепочек или транспортных каналов на этом уровне.

## Сигнальный контур ↔ Серверный контур

- Сигнальный маршрутизатор передаёт события серверному контексту, но не раскрывает внутреннюю структуру; сервер подтверждает, что `sessionId` присутствует и принадлежит именно двум участникам.
- Сервер не изменяет контекст до завершения и очищает его после `завершение`, сохраняя stateless-инвариант.
- Сигнальный контур служит мостом между клиентами и сервером, судя по декларациям, и не включает детали маршрутизации.
